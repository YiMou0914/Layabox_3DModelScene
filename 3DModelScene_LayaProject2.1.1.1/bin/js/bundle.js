var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var GameMgr_1 = require("./scripts/GameMgr");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("scripts/GameMgr.ts", GameMgr_1.default);
    };
    GameConfig.width = 640;
    GameConfig.height = 1136;
    GameConfig.scaleMode = "fixedwidth";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "Main.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = true;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./scripts/GameMgr":4}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        Laya.stage.alignV = GameConfig_1.default.alignV;
        Laya.stage.alignH = GameConfig_1.default.alignH;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
    };
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig":1}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameMgr_1 = require("./GameMgr");
var Mathf_1 = require("./utils/Mathf");
var CameraSpin = /** @class */ (function (_super) {
    __extends(CameraSpin, _super);
    function CameraSpin() {
        var _this = _super.call(this) || this;
        _this.G_fZoomSpeed = -16; //缩放值
        _this.distance = 5;
        _this.minDistance = 0.6;
        _this.maxDistance = 20;
        /**设置旋转角度 */
        _this.x = 0;
        _this.y = 0;
        _this.z = 0;
        /**y轴角度限制，设置成一样则该轴不旋转 */
        _this.yMinLimit = -90;
        _this.yMaxLimit = 90;
        /**x轴角度限制，同上 */
        _this.leftMax = -365;
        _this.rightMax = 365;
        /**旋转速度值 */
        _this.xSpeed = 5;
        _this.ySpeed = 5;
        _this.rotation = new Laya.Quaternion();
        _this.position = new Laya.Vector3();
        _this.curTouchCount = 0;
        return _this;
    }
    Object.defineProperty(CameraSpin.prototype, "targetPos", {
        get: function () {
            return this.target.transform.position;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CameraSpin.prototype, "cameraPos", {
        get: function () {
            if (this._cameraPos == null) {
                this._cameraPos = this.cameraNode.transform.position;
            }
            return this._cameraPos;
        },
        set: function (v) {
            this.cameraNode.transform.position = v;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CameraSpin.prototype, "cameraRot", {
        get: function () {
            if (this._cameraRot == null) {
                this._cameraRot = this.cameraNode.transform.rotation;
            }
            return this._cameraRot;
        },
        set: function (v) {
            this.cameraNode.transform.rotation = v;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CameraSpin.prototype, "camViewTargetPos", {
        get: function () {
            if (this._camViewTargetPos == null) {
                this._camViewTargetPos = this.targetPos;
            }
            return this._camViewTargetPos;
        },
        set: function (v) {
            this._camViewTargetPos = v;
        },
        enumerable: true,
        configurable: true
    });
    CameraSpin.prototype.onStart = function () {
        console.log(GameMgr_1.default.instance.scene3D);
        this.cameraNode = GameMgr_1.default.instance.scene3D.getChildByName("Main Camera");
        this.target = GameMgr_1.default.instance.scene3D.getChildByName("00anganzhafa");
        Laya.stage.on(Laya.Event.MOUSE_DOWN, this, this.handleMouseDown);
        Laya.stage.on(Laya.Event.MOUSE_UP, this, this.handleMouseUp);
        Laya.stage.on(Laya.Event.MOUSE_WHEEL, this, this.handleMouseWheel);
        this.SetCamPoint(this.cameraPos);
    };
    /**设置摄像机的点位 */
    CameraSpin.prototype.SetCamPoint = function (pos) {
        this.cameraPos = pos;
        //this.cameraNode.transform.lookAt(this.camViewTargetPos, this.VEC_UP); 
        var qua = Mathf_1.default.GetToTargetRotation(Mathf_1.default.Vec_Sub(this.camViewTargetPos, this.cameraPos));
        this.cameraRot = qua;
        this.AdjustValue();
    };
    /**
     * 调整xyz,position,rotation,distance
     */
    CameraSpin.prototype.AdjustValue = function () {
        this.distance = Laya.Vector3.distance(this.camViewTargetPos, this.cameraPos);
        console.log("重置distance:" + this.distance);
        this.position = this.cameraPos;
        this.rotation = this.cameraRot;
        this.x = Mathf_1.default.QuaToVec(this.cameraRot).x;
        this.y = Mathf_1.default.QuaToVec(this.cameraRot).y;
        this.z = Mathf_1.default.QuaToVec(this.cameraRot).z;
        console.log("调整后Camera的rotation:" + this.cameraNode.transform.rotationEuler.x + " " + this.cameraNode.transform.rotationEuler.y + " " + this.cameraNode.transform.rotationEuler.z);
    };
    CameraSpin.prototype.handleMouseDown = function (event) {
        var arr = event.touches;
        if (arr == undefined) {
            arr = new Array();
            arr[0] = event;
        }
        this.curTouchCount = arr.length;
        this.oldTouch0 = new Laya.Vector3(arr[0].stageX, arr[0].stageY, 0);
        if (this.curTouchCount == 2) {
            this.oldTouch1 = new Laya.Vector3(arr[1].stageX, arr[1].stageY, 0);
        }
        Laya.stage.on(Laya.Event.MOUSE_MOVE, this, this.handleMouseMove);
        Laya.stage.on(Laya.Event.MOUSE_OUT, this, this.handleMouseUp);
    };
    CameraSpin.prototype.handleMouseMove = function (event) {
        var arr = event.touches;
        if (arr == undefined) {
            arr = new Array();
            arr[0] = event;
        }
        if (arr.length == 2) {
            this.curTouchCount = 2;
        }
        if (this.curTouchCount == 1) {
            this.onTouchOne(arr[0]);
        }
        else if (this.curTouchCount == 2) {
            this.onTouchTwo(event);
        }
    };
    CameraSpin.prototype.onTouchOne = function (event) {
        if (this.isNeedAdjust == true) {
            this.AdjustValue();
            this.isNeedAdjust = false;
        }
        this.newTouch0 = new Laya.Vector3(event.stageX, event.stageY, 0);
        var dir = Mathf_1.default.Vec_Sub(this.newTouch0, this.oldTouch0);
        this.x += dir.y * this.xSpeed * -0.05;
        this.y += dir.x * this.ySpeed * -0.05;
        this.distance = Mathf_1.default.Clamp(this.distance, this.minDistance, this.maxDistance);
        this.x = Mathf_1.default.Clamp(this.x, -90, 90);
        this.rotation = Mathf_1.default.VecToQua(new Laya.Vector3(this.x, this.y, this.z));
        this.position = Mathf_1.default.Vec_Add(Mathf_1.default.VecDotQua(new Laya.Vector3(0, 0, this.distance), this.rotation), this.camViewTargetPos);
        this.cameraPos = this.position;
        this.cameraRot = this.rotation;
        this.oldTouch0 = this.newTouch0;
        //console.log("eluer:" + this.cameraNode.transform.rotationEuler.x + " " + this.cameraNode.transform.rotationEuler.y + " " + this.cameraNode.transform.rotationEuler.z);
    };
    /**处理双指触控 */
    CameraSpin.prototype.onTouchTwo = function (event) {
        var arr = event.touches;
        if (arr == undefined && arr.length != 2) {
            return;
        }
        this.newTouch0 = new Laya.Vector3(arr[0].stageX, arr[0].stageY, 0);
        this.newTouch1 = new Laya.Vector3(arr[1].stageX, arr[1].stageY, 0);
        var oldDistance = Laya.Vector3.distance(this.oldTouch0, this.oldTouch1);
        var newDistance = Laya.Vector3.distance(this.newTouch0, this.newTouch1);
        var offset = newDistance - oldDistance;
        this.HorVerMoveByTouch(arr);
        this.processToFarAndNear(offset / 30);
        this.oldTouch0 = this.newTouch0;
        this.oldTouch1 = this.newTouch1;
    };
    /* 处理上下左右平移移动视角（触屏）*/
    CameraSpin.prototype.HorVerMoveByTouch = function (arr) {
        var point1 = Mathf_1.default.Vec_Mul(Mathf_1.default.Vec_Add(this.newTouch0, this.newTouch1), 0.5);
        var point2 = Mathf_1.default.Vec_Mul(Mathf_1.default.Vec_Add(this.oldTouch0, this.oldTouch1), 0.5);
        var dirVec2 = Mathf_1.default.Vec_Mul(Mathf_1.default.Vec_Sub(point1, point2), 0.0025);
        if (Laya.Vector3.scalarLength(dirVec2) > 0.005) {
            var temp = Mathf_1.default.VecDotQua(new Laya.Vector3(-dirVec2.x, dirVec2.y, 0), this.cameraRot);
            this.cameraPos = Mathf_1.default.Vec_Add(this.cameraPos, temp);
            this.camViewTargetPos = Mathf_1.default.Vec_Add(this.camViewTargetPos, temp);
            this.isNeedAdjust = true;
        }
    };
    CameraSpin.prototype.handleMouseUp = function (event) {
        console.log(event.type);
        Laya.stage.off(Laya.Event.MOUSE_MOVE, this, this.handleMouseMove);
        Laya.stage.off(Laya.Event.MOUSE_OUT, this, this.handleMouseUp);
        this.AdjustValue();
    };
    CameraSpin.prototype.handleMouseWheel = function (event) {
        var scaleFactor = event.delta;
        this.processToFarAndNear(scaleFactor);
    };
    CameraSpin.prototype.processToFarAndNear = function (scaleFactor) {
        console.log("scaleFactor:" + scaleFactor);
        if (Math.abs(scaleFactor) > 0.02) {
            var nexPos = Mathf_1.default.Vec_Add(this.cameraPos, Mathf_1.default.Vec_Mul(Mathf_1.default.Vec_Normalize(Mathf_1.default.Vec_Sub(this.cameraPos, this.camViewTargetPos)), scaleFactor * this.G_fZoomSpeed * 0.01));
            var nearPos = Mathf_1.default.Vec_Sub(this.camViewTargetPos, Mathf_1.default.Vec_Mul(Mathf_1.default.Vec_Normalize(Mathf_1.default.Vec_Sub(this.camViewTargetPos, this.cameraPos)), this.minDistance));
            var farPos = Mathf_1.default.Vec_Sub(this.camViewTargetPos, Mathf_1.default.Vec_Mul(Mathf_1.default.Vec_Normalize(Mathf_1.default.Vec_Sub(this.camViewTargetPos, this.cameraPos)), this.maxDistance));
            nexPos.x = nearPos.x < farPos.x ? Mathf_1.default.Clamp(nexPos.x, nearPos.x, farPos.x) : Mathf_1.default.Clamp(nexPos.x, farPos.x, nearPos.x);
            nexPos.y = nearPos.y < farPos.y ? Mathf_1.default.Clamp(nexPos.y, nearPos.y, farPos.y) : Mathf_1.default.Clamp(nexPos.y, farPos.y, nearPos.y);
            nexPos.z = nearPos.z < farPos.z ? Mathf_1.default.Clamp(nexPos.z, nearPos.z, farPos.z) : Mathf_1.default.Clamp(nexPos.z, farPos.z, nearPos.z);
            this.cameraPos = nexPos;
            this.isNeedAdjust = true;
        }
    };
    return CameraSpin;
}(Laya.Script3D));
exports.default = CameraSpin;
},{"./GameMgr":4,"./utils/Mathf":5}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var CameraSpin_1 = require("./CameraSpin");
var GameMgr = /** @class */ (function (_super) {
    __extends(GameMgr, _super);
    function GameMgr() {
        return _super.call(this) || this;
    }
    GameMgr.prototype.onAwake = function () {
        GameMgr.instance = this;
    };
    GameMgr.prototype.onEnable = function () {
    };
    GameMgr.prototype.onDisable = function () {
    };
    GameMgr.prototype.onStart = function () {
        Laya.Scene3D.load("res/LayaScene_scene/Conventional/scene.ls", Laya.Handler.create(this, this.onLoadSceneCmp));
    };
    GameMgr.prototype.onLoadSceneCmp = function (scenes3D) {
        Laya.stage.addChild(scenes3D);
        this.scene3D = scenes3D;
        scenes3D.zOrder = -1;
        var camera = scenes3D.getChildByName("Main Camera");
        camera.addComponent(CameraSpin_1.default);
        // this.ball_prefab = Laya.Sprite3D.instantiate(ball as Laya.Sprite3D);
        // this.part = scenes3D.getChildByName("particle") as Laya.ShuriKenParticle3D;
    };
    return GameMgr;
}(Laya.Script));
exports.default = GameMgr;
},{"./CameraSpin":3}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 封装的Math的工具类
 */
var Mathf = /** @class */ (function () {
    function Mathf() {
    }
    Mathf.Vec_Add = function (vec1, vec2) {
        var vec3 = new Laya.Vector3();
        Laya.Vector3.add(vec1, vec2, vec3);
        return vec3;
    };
    Mathf.Vec_Sub = function (vec1, vec2) {
        var vec3 = new Laya.Vector3();
        Laya.Vector3.subtract(vec1, vec2, vec3);
        return vec3;
    };
    Mathf.Vec_Mul = function (vec1, value) {
        var vec3 = new Laya.Vector3();
        Laya.Vector3.multiply(vec1, new Laya.Vector3(value, value, value), vec3);
        return vec3;
    };
    Mathf.Vec_Normalize = function (vec1) {
        var vec3 = new Laya.Vector3();
        Laya.Vector3.normalize(vec1, vec3);
        return vec3;
    };
    Mathf.VecToQua = function (vec1) {
        var qua = new Laya.Quaternion();
        /* yaw y的弧度值  pitch x的弧度值  roll z的弧度值
         * 角度A1转换弧度A2:A2=A1*PI/180
         * 弧度A2转换角度A1:A1=A2*180/PI
        */
        Laya.Quaternion.createFromYawPitchRoll(vec1.y * Math.PI / 180, vec1.x * Math.PI / 180, vec1.z * Math.PI / 180, qua);
        return qua;
    };
    Mathf.VecDotQua = function (vec1, qua) {
        var vec3 = new Laya.Vector3();
        Laya.Vector3.transformQuat(vec1, qua, vec3);
        return vec3;
    };
    Mathf.Clamp = function (tar, min, max) {
        if (tar < min) {
            return min;
        }
        else if (tar > max) {
            return max;
        }
        else {
            return tar;
        }
    };
    Mathf.ClampAngle = function (angle, min, max) {
        if (angle < -360)
            angle = angle + 360;
        if (angle > 360)
            angle = angle - 360;
        return Mathf.Clamp(angle, min, max);
    };
    Mathf.QuaToVec = function (qua) {
        var vec = new Laya.Vector3();
        qua.getYawPitchRoll(vec);
        vec = new Laya.Vector3(vec.y * 180 / Math.PI, vec.x * 180 / Math.PI, vec.z * 180 / Math.PI);
        return vec;
    };
    Mathf.GetToTargetRotation = function (targetVec) {
        var qua = new Laya.Quaternion();
        Laya.Quaternion.rotationLookAt(targetVec, Mathf.VEC_UP, qua);
        return qua;
    };
    Mathf.VEC_UP = new Laya.Vector3(0, 1, 0);
    return Mathf;
}());
exports.default = Mathf;
},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL1dvcmtTb2Z0d2FyZS9MYXlhSURFIDIuMS4xLjEvcmVzb3VyY2VzL2FwcC9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwic3JjL0dhbWVDb25maWcudHMiLCJzcmMvTWFpbi50cyIsInNyYy9zY3JpcHRzL0NhbWVyYVNwaW4udHMiLCJzcmMvc2NyaXB0cy9HYW1lTWdyLnRzIiwic3JjL3NjcmlwdHMvdXRpbHMvTWF0aGYudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDVkEsZ0dBQWdHO0FBQ2hHLDZDQUF1QztBQUN2Qzs7RUFFRTtBQUNGO0lBYUk7SUFBYyxDQUFDO0lBQ1IsZUFBSSxHQUFYO1FBQ0ksSUFBSSxHQUFHLEdBQWEsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUM7UUFDN0MsR0FBRyxDQUFDLG9CQUFvQixFQUFDLGlCQUFPLENBQUMsQ0FBQztJQUN0QyxDQUFDO0lBaEJNLGdCQUFLLEdBQVEsR0FBRyxDQUFDO0lBQ2pCLGlCQUFNLEdBQVEsSUFBSSxDQUFDO0lBQ25CLG9CQUFTLEdBQVEsWUFBWSxDQUFDO0lBQzlCLHFCQUFVLEdBQVEsTUFBTSxDQUFDO0lBQ3pCLGlCQUFNLEdBQVEsS0FBSyxDQUFDO0lBQ3BCLGlCQUFNLEdBQVEsTUFBTSxDQUFDO0lBQ3JCLHFCQUFVLEdBQUssWUFBWSxDQUFDO0lBQzVCLG9CQUFTLEdBQVEsRUFBRSxDQUFDO0lBQ3BCLGdCQUFLLEdBQVMsSUFBSSxDQUFDO0lBQ25CLGVBQUksR0FBUyxLQUFLLENBQUM7SUFDbkIsdUJBQVksR0FBUyxLQUFLLENBQUM7SUFDM0IsNEJBQWlCLEdBQVMsSUFBSSxDQUFDO0lBTTFDLGlCQUFDO0NBbEJELEFBa0JDLElBQUE7a0JBbEJvQixVQUFVO0FBbUIvQixVQUFVLENBQUMsSUFBSSxFQUFFLENBQUM7Ozs7QUN4QmxC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SSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7WUFFOUosTUFBTSxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLGVBQUssQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsZUFBSyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzFILE1BQU0sQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxlQUFLLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLGVBQUssQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMxSCxNQUFNLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsZUFBSyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxlQUFLLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFFMUgsSUFBSSxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUM7WUFDeEIsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUM7U0FD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R0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUM1RixPQUFPLEdBQUcsQ0FBQztJQUNmLENBQUM7SUFFYSx5QkFBbUIsR0FBakMsVUFBa0MsU0FBUztRQUN2QyxJQUFJLEdBQUcsR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUNoQyxJQUFJLENBQUMsVUFBVSxDQUFDLGNBQWMsQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQztRQUM3RCxPQUFPLEdBQUcsQ0FBQztJQUNmLENBQUM7SUEzRWEsWUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBNEVyRCxZQUFDO0NBN0VELEFBNkVDLElBQUE7a0JBN0VvQixLQUFLIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xyXG5pbXBvcnQgR2FtZU1nciBmcm9tIFwiLi9zY3JpcHRzL0dhbWVNZ3JcIlxyXG4vKlxyXG4qIOa4uOaIj+WIneWni+WMlumFjee9rjtcclxuKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUNvbmZpZ3tcclxuICAgIHN0YXRpYyB3aWR0aDpudW1iZXI9NjQwO1xyXG4gICAgc3RhdGljIGhlaWdodDpudW1iZXI9MTEzNjtcclxuICAgIHN0YXRpYyBzY2FsZU1vZGU6c3RyaW5nPVwiZml4ZWR3aWR0aFwiO1xyXG4gICAgc3RhdGljIHNjcmVlbk1vZGU6c3RyaW5nPVwibm9uZVwiO1xyXG4gICAgc3RhdGljIGFsaWduVjpzdHJpbmc9XCJ0b3BcIjtcclxuICAgIHN0YXRpYyBhbGlnbkg6c3RyaW5nPVwibGVmdFwiO1xyXG4gICAgc3RhdGljIHN0YXJ0U2NlbmU6YW55PVwiTWFpbi5zY2VuZVwiO1xyXG4gICAgc3RhdGljIHNjZW5lUm9vdDpzdHJpbmc9XCJcIjtcclxuICAgIHN0YXRpYyBkZWJ1Zzpib29sZWFuPXRydWU7XHJcbiAgICBzdGF0aWMgc3RhdDpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIHBoeXNpY3NEZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIGV4cG9ydFNjZW5lVG9Kc29uOmJvb2xlYW49dHJ1ZTtcclxuICAgIGNvbnN0cnVjdG9yKCl7fVxyXG4gICAgc3RhdGljIGluaXQoKXtcclxuICAgICAgICB2YXIgcmVnOiBGdW5jdGlvbiA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcclxuICAgICAgICByZWcoXCJzY3JpcHRzL0dhbWVNZ3IudHNcIixHYW1lTWdyKTtcclxuICAgIH1cclxufVxyXG5HYW1lQ29uZmlnLmluaXQoKTsiLCJpbXBvcnQgR2FtZUNvbmZpZyBmcm9tIFwiLi9HYW1lQ29uZmlnXCI7XHJcbmNsYXNzIE1haW4ge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0Ly/moLnmja5JREXorr7nva7liJ3lp4vljJblvJXmk45cdFx0XHJcblx0XHRpZiAod2luZG93W1wiTGF5YTNEXCJdKSBMYXlhM0QuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCk7XHJcblx0XHRlbHNlIExheWEuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCwgTGF5YVtcIldlYkdMXCJdKTtcclxuXHRcdExheWFbXCJQaHlzaWNzXCJdICYmIExheWFbXCJQaHlzaWNzXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YVtcIkRlYnVnUGFuZWxcIl0gJiYgTGF5YVtcIkRlYnVnUGFuZWxcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhLnN0YWdlLnNjYWxlTW9kZSA9IEdhbWVDb25maWcuc2NhbGVNb2RlO1xyXG5cdFx0TGF5YS5zdGFnZS5zY3JlZW5Nb2RlID0gR2FtZUNvbmZpZy5zY3JlZW5Nb2RlO1xyXG5cdFx0TGF5YS5zdGFnZS5hbGlnblYgPSBHYW1lQ29uZmlnLmFsaWduVjtcclxuXHRcdExheWEuc3RhZ2UuYWxpZ25IID0gR2FtZUNvbmZpZy5hbGlnbkg7XHJcblx0XHQvL+WFvOWuueW+ruS/oeS4jeaUr+aMgeWKoOi9vXNjZW5l5ZCO57yA5Zy65pmvXHJcblx0XHRMYXlhLlVSTC5leHBvcnRTY2VuZVRvSnNvbiA9IEdhbWVDb25maWcuZXhwb3J0U2NlbmVUb0pzb247XHJcblxyXG5cdFx0Ly/miZPlvIDosIPor5XpnaLmnb/vvIjpgJrov4dJREXorr7nva7osIPor5XmqKHlvI/vvIzmiJbogIV1cmzlnLDlnYDlop7liqBkZWJ1Zz10cnVl5Y+C5pWw77yM5Z2H5Y+v5omT5byA6LCD6K+V6Z2i5p2/77yJXHJcblx0XHRpZiAoR2FtZUNvbmZpZy5kZWJ1ZyB8fCBMYXlhLlV0aWxzLmdldFF1ZXJ5U3RyaW5nKFwiZGVidWdcIikgPT0gXCJ0cnVlXCIpIExheWEuZW5hYmxlRGVidWdQYW5lbCgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcucGh5c2ljc0RlYnVnICYmIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdKSBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXS5lbmFibGUoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnN0YXQpIExheWEuU3RhdC5zaG93KCk7XHJcblx0XHRMYXlhLmFsZXJ0R2xvYmFsRXJyb3IgPSB0cnVlO1xyXG5cclxuXHRcdC8v5r+A5rS76LWE5rqQ54mI5pys5o6n5Yi277yMdmVyc2lvbi5qc29u55SxSURF5Y+R5biD5Yqf6IO96Ieq5Yqo55Sf5oiQ77yM5aaC5p6c5rKh5pyJ5Lmf5LiN5b2x5ZON5ZCO57ut5rWB56iLXHJcblx0XHRMYXlhLlJlc291cmNlVmVyc2lvbi5lbmFibGUoXCJ2ZXJzaW9uLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uVmVyc2lvbkxvYWRlZCksIExheWEuUmVzb3VyY2VWZXJzaW9uLkZJTEVOQU1FX1ZFUlNJT04pO1xyXG5cdH1cclxuXHJcblx0b25WZXJzaW9uTG9hZGVkKCk6IHZvaWQge1xyXG5cdFx0Ly/mv4DmtLvlpKflsI/lm77mmKDlsITvvIzliqDovb3lsI/lm77nmoTml7blgJnvvIzlpoLmnpzlj5HnjrDlsI/lm77lnKjlpKflm77lkIjpm4bph4zpnaLvvIzliJnkvJjlhYjliqDovb3lpKflm77lkIjpm4bvvIzogIzkuI3mmK/lsI/lm75cclxuXHRcdExheWEuQXRsYXNJbmZvTWFuYWdlci5lbmFibGUoXCJmaWxlY29uZmlnLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uQ29uZmlnTG9hZGVkKSk7XHJcblx0fVxyXG5cclxuXHRvbkNvbmZpZ0xvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5Yqg6L29SURF5oyH5a6a55qE5Zy65pmvXHJcblx0XHRHYW1lQ29uZmlnLnN0YXJ0U2NlbmUgJiYgTGF5YS5TY2VuZS5vcGVuKEdhbWVDb25maWcuc3RhcnRTY2VuZSk7XHJcblx0fVxyXG59XHJcbi8v5r+A5rS75ZCv5Yqo57G7XHJcbm5ldyBNYWluKCk7XHJcbiIsImltcG9ydCBHYW1lTWdyIGZyb20gXCIuL0dhbWVNZ3JcIjtcclxuaW1wb3J0IE1hdGhmIGZyb20gXCIuL3V0aWxzL01hdGhmXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW1lcmFTcGluIGV4dGVuZHMgTGF5YS5TY3JpcHQzRCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuXHJcbiAgICBwcml2YXRlIGNhbWVyYU5vZGU6IExheWEuQ2FtZXJhO1xyXG4gICAgcHVibGljIHRhcmdldDogTGF5YS5TcHJpdGUzRDtcclxuICAgIHB1YmxpYyBnZXQgdGFyZ2V0UG9zKCk6IExheWEuVmVjdG9yMyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0LnRyYW5zZm9ybS5wb3NpdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICAvKirmmK/lvJXnlKjnsbvlnosg5pS55Y+YcG9zIHZlY3RvcjPkuZ/kvJrmlLnlj5ggKi9cclxuICAgIHByaXZhdGUgX2NhbWVyYVBvczogTGF5YS5WZWN0b3IzO1xyXG4gICAgcHVibGljIGdldCBjYW1lcmFQb3MoKTogTGF5YS5WZWN0b3IzIHtcclxuICAgICAgICBpZiAodGhpcy5fY2FtZXJhUG9zID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2FtZXJhUG9zID0gdGhpcy5jYW1lcmFOb2RlLnRyYW5zZm9ybS5wb3NpdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbWVyYVBvcztcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXQgY2FtZXJhUG9zKHY6IExheWEuVmVjdG9yMykge1xyXG4gICAgICAgIHRoaXMuY2FtZXJhTm9kZS50cmFuc2Zvcm0ucG9zaXRpb24gPSB2O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX2NhbWVyYVJvdDogTGF5YS5RdWF0ZXJuaW9uO1xyXG4gICAgcHVibGljIGdldCBjYW1lcmFSb3QoKTogTGF5YS5RdWF0ZXJuaW9uIHtcclxuICAgICAgICBpZiAodGhpcy5fY2FtZXJhUm90ID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2FtZXJhUm90ID0gdGhpcy5jYW1lcmFOb2RlLnRyYW5zZm9ybS5yb3RhdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbWVyYVJvdDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXQgY2FtZXJhUm90KHY6IExheWEuUXVhdGVybmlvbikge1xyXG4gICAgICAgIHRoaXMuY2FtZXJhTm9kZS50cmFuc2Zvcm0ucm90YXRpb24gPSB2O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIF9jYW1WaWV3VGFyZ2V0UG9zOiBMYXlhLlZlY3RvcjM7XHJcbiAgICBwdWJsaWMgZ2V0IGNhbVZpZXdUYXJnZXRQb3MoKTogTGF5YS5WZWN0b3IzIHtcclxuICAgICAgICBpZiAodGhpcy5fY2FtVmlld1RhcmdldFBvcyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhbVZpZXdUYXJnZXRQb3MgPSB0aGlzLnRhcmdldFBvcztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbVZpZXdUYXJnZXRQb3M7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0IGNhbVZpZXdUYXJnZXRQb3ModjogTGF5YS5WZWN0b3IzKSB7XHJcbiAgICAgICAgdGhpcy5fY2FtVmlld1RhcmdldFBvcyA9IHY7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIEdfZlpvb21TcGVlZDogbnVtYmVyID0gLTE2OyAvL+e8qeaUvuWAvFxyXG4gICAgcHJpdmF0ZSBkaXN0YW5jZTogbnVtYmVyID0gNTtcclxuICAgIHB1YmxpYyBtaW5EaXN0YW5jZTogbnVtYmVyID0gMC42O1xyXG4gICAgcHVibGljIG1heERpc3RhbmNlOiBudW1iZXIgPSAyMDtcclxuICAgIC8qKuiuvue9ruaXi+i9rOinkuW6piAqL1xyXG4gICAgcHJpdmF0ZSB4OiBudW1iZXIgPSAwO1xyXG4gICAgcHJpdmF0ZSB5OiBudW1iZXIgPSAwO1xyXG4gICAgcHJpdmF0ZSB6OiBudW1iZXIgPSAwO1xyXG4gICAgLyoqeei9tOinkuW6pumZkOWItu+8jOiuvue9ruaIkOS4gOagt+WImeivpei9tOS4jeaXi+i9rCAqL1xyXG4gICAgcHVibGljIHlNaW5MaW1pdDogbnVtYmVyID0gLTkwO1xyXG4gICAgcHVibGljIHlNYXhMaW1pdDogbnVtYmVyID0gOTA7XHJcblxyXG4gICAgLyoqeOi9tOinkuW6pumZkOWItu+8jOWQjOS4iiAqL1xyXG4gICAgcHVibGljIGxlZnRNYXg6IG51bWJlciA9IC0zNjU7XHJcbiAgICBwdWJsaWMgcmlnaHRNYXg6IG51bWJlciA9IDM2NTtcclxuXHJcbiAgICAvKirml4vovazpgJ/luqblgLwgKi9cclxuICAgIHB1YmxpYyB4U3BlZWQ6IG51bWJlciA9IDU7XHJcbiAgICBwdWJsaWMgeVNwZWVkOiBudW1iZXIgPSA1O1xyXG5cclxuICAgIHByaXZhdGUgcm90YXRpb246IExheWEuUXVhdGVybmlvbiA9IG5ldyBMYXlhLlF1YXRlcm5pb24oKTtcclxuICAgIHByaXZhdGUgcG9zaXRpb246IExheWEuVmVjdG9yMyA9IG5ldyBMYXlhLlZlY3RvcjMoKTtcclxuXHJcbiAgICBwcml2YXRlIGN1clRvdWNoQ291bnQ6IG51bWJlciA9IDA7XHJcbiAgICBwcml2YXRlIGlzTmVlZEFkanVzdDogYm9vbGVhbjtcclxuICAgIHByaXZhdGUgb2xkVG91Y2gwOiBMYXlhLlZlY3RvcjM7XHJcbiAgICBwcml2YXRlIG9sZFRvdWNoMTogTGF5YS5WZWN0b3IzO1xyXG4gICAgcHJpdmF0ZSBuZXdUb3VjaDA6IExheWEuVmVjdG9yMztcclxuICAgIHByaXZhdGUgbmV3VG91Y2gxOiBMYXlhLlZlY3RvcjM7XHJcblxyXG4gICAgb25TdGFydCgpOiB2b2lkIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhHYW1lTWdyLmluc3RhbmNlLnNjZW5lM0QpO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhTm9kZSA9IEdhbWVNZ3IuaW5zdGFuY2Uuc2NlbmUzRC5nZXRDaGlsZEJ5TmFtZShcIk1haW4gQ2FtZXJhXCIpIGFzIExheWEuQ2FtZXJhO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gR2FtZU1nci5pbnN0YW5jZS5zY2VuZTNELmdldENoaWxkQnlOYW1lKFwiMDBhbmdhbnpoYWZhXCIpIGFzIExheWEuU3ByaXRlM0Q7XHJcblxyXG4gICAgICAgIExheWEuc3RhZ2Uub24oTGF5YS5FdmVudC5NT1VTRV9ET1dOLCB0aGlzLCB0aGlzLmhhbmRsZU1vdXNlRG93bik7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5vbihMYXlhLkV2ZW50Lk1PVVNFX1VQLCB0aGlzLCB0aGlzLmhhbmRsZU1vdXNlVXApO1xyXG4gICAgICAgIExheWEuc3RhZ2Uub24oTGF5YS5FdmVudC5NT1VTRV9XSEVFTCwgdGhpcywgdGhpcy5oYW5kbGVNb3VzZVdoZWVsKTtcclxuXHJcbiAgICAgICAgdGhpcy5TZXRDYW1Qb2ludCh0aGlzLmNhbWVyYVBvcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoq6K6+572u5pGE5YOP5py655qE54K55L2NICovXHJcbiAgICBTZXRDYW1Qb2ludChwb3M6IExheWEuVmVjdG9yMykge1xyXG4gICAgICAgIHRoaXMuY2FtZXJhUG9zID0gcG9zO1xyXG4gICAgICAgIC8vdGhpcy5jYW1lcmFOb2RlLnRyYW5zZm9ybS5sb29rQXQodGhpcy5jYW1WaWV3VGFyZ2V0UG9zLCB0aGlzLlZFQ19VUCk7IFxyXG4gICAgICAgIHZhciBxdWEgPSBNYXRoZi5HZXRUb1RhcmdldFJvdGF0aW9uKE1hdGhmLlZlY19TdWIodGhpcy5jYW1WaWV3VGFyZ2V0UG9zLCB0aGlzLmNhbWVyYVBvcykpOyBcclxuICAgICAgICB0aGlzLmNhbWVyYVJvdCA9IHF1YTtcclxuXHJcbiAgICAgICAgdGhpcy5BZGp1c3RWYWx1ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6LCD5pW0eHl6LHBvc2l0aW9uLHJvdGF0aW9uLGRpc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIEFkanVzdFZhbHVlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZGlzdGFuY2UgPSBMYXlhLlZlY3RvcjMuZGlzdGFuY2UodGhpcy5jYW1WaWV3VGFyZ2V0UG9zLCB0aGlzLmNhbWVyYVBvcyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCLph43nva5kaXN0YW5jZTpcIiArIHRoaXMuZGlzdGFuY2UpO1xyXG4gICAgICAgIHRoaXMucG9zaXRpb24gPSB0aGlzLmNhbWVyYVBvcztcclxuICAgICAgICB0aGlzLnJvdGF0aW9uID0gdGhpcy5jYW1lcmFSb3Q7XHJcbiAgICAgICAgdGhpcy54ID0gTWF0aGYuUXVhVG9WZWModGhpcy5jYW1lcmFSb3QpLng7XHJcbiAgICAgICAgdGhpcy55ID0gTWF0aGYuUXVhVG9WZWModGhpcy5jYW1lcmFSb3QpLnk7XHJcbiAgICAgICAgdGhpcy56ID0gTWF0aGYuUXVhVG9WZWModGhpcy5jYW1lcmFSb3QpLno7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCLosIPmlbTlkI5DYW1lcmHnmoRyb3RhdGlvbjpcIiArIHRoaXMuY2FtZXJhTm9kZS50cmFuc2Zvcm0ucm90YXRpb25FdWxlci54ICsgXCIgXCIgKyB0aGlzLmNhbWVyYU5vZGUudHJhbnNmb3JtLnJvdGF0aW9uRXVsZXIueSArIFwiIFwiICsgdGhpcy5jYW1lcmFOb2RlLnRyYW5zZm9ybS5yb3RhdGlvbkV1bGVyLnopO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZU1vdXNlRG93bihldmVudDogTGF5YS5FdmVudCk6IHZvaWQge1xyXG4gICAgICAgIHZhciBhcnI6IEFycmF5PGFueT4gPSBldmVudC50b3VjaGVzO1xyXG5cclxuICAgICAgICBpZiAoYXJyID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBhcnIgPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICAgICAgYXJyWzBdID0gZXZlbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY3VyVG91Y2hDb3VudCA9IGFyci5sZW5ndGg7XHJcblxyXG4gICAgICAgIHRoaXMub2xkVG91Y2gwID0gbmV3IExheWEuVmVjdG9yMyhhcnJbMF0uc3RhZ2VYLCBhcnJbMF0uc3RhZ2VZLCAwKTtcclxuICAgICAgICBpZiAodGhpcy5jdXJUb3VjaENvdW50ID09IDIpIHtcclxuICAgICAgICAgICAgdGhpcy5vbGRUb3VjaDEgPSBuZXcgTGF5YS5WZWN0b3IzKGFyclsxXS5zdGFnZVgsIGFyclsxXS5zdGFnZVksIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBMYXlhLnN0YWdlLm9uKExheWEuRXZlbnQuTU9VU0VfTU9WRSwgdGhpcywgdGhpcy5oYW5kbGVNb3VzZU1vdmUpO1xyXG4gICAgICAgIExheWEuc3RhZ2Uub24oTGF5YS5FdmVudC5NT1VTRV9PVVQsIHRoaXMsIHRoaXMuaGFuZGxlTW91c2VVcCk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlTW91c2VNb3ZlKGV2ZW50OiBMYXlhLkV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgdmFyIGFycjogQXJyYXk8YW55PiA9IGV2ZW50LnRvdWNoZXM7XHJcblxyXG4gICAgICAgIGlmIChhcnIgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGFyciA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgICAgICBhcnJbMF0gPSBldmVudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChhcnIubGVuZ3RoID09IDIpIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJUb3VjaENvdW50ID0gMjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY3VyVG91Y2hDb3VudCA9PSAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25Ub3VjaE9uZShhcnJbMF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmN1clRvdWNoQ291bnQgPT0gMikge1xyXG4gICAgICAgICAgICB0aGlzLm9uVG91Y2hUd28oZXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvblRvdWNoT25lKGV2ZW50OiBMYXlhLkV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNOZWVkQWRqdXN0ID09IHRydWUpIHtcclxuICAgICAgICAgICAgdGhpcy5BZGp1c3RWYWx1ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLmlzTmVlZEFkanVzdCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5uZXdUb3VjaDAgPSBuZXcgTGF5YS5WZWN0b3IzKGV2ZW50LnN0YWdlWCwgZXZlbnQuc3RhZ2VZLCAwKTtcclxuICAgICAgICB2YXIgZGlyID0gTWF0aGYuVmVjX1N1Yih0aGlzLm5ld1RvdWNoMCwgdGhpcy5vbGRUb3VjaDApO1xyXG5cclxuICAgICAgICB0aGlzLnggKz0gZGlyLnkgKiB0aGlzLnhTcGVlZCAqIC0wLjA1O1xyXG4gICAgICAgIHRoaXMueSArPSBkaXIueCAqIHRoaXMueVNwZWVkICogLTAuMDU7XHJcbiAgICAgICAgdGhpcy5kaXN0YW5jZSA9IE1hdGhmLkNsYW1wKHRoaXMuZGlzdGFuY2UsIHRoaXMubWluRGlzdGFuY2UsIHRoaXMubWF4RGlzdGFuY2UpO1xyXG5cclxuICAgICAgICB0aGlzLnggPSBNYXRoZi5DbGFtcCh0aGlzLngsIC05MCwgOTApO1xyXG5cclxuICAgICAgICB0aGlzLnJvdGF0aW9uID0gTWF0aGYuVmVjVG9RdWEobmV3IExheWEuVmVjdG9yMyh0aGlzLngsIHRoaXMueSwgdGhpcy56KSk7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IE1hdGhmLlZlY19BZGQoTWF0aGYuVmVjRG90UXVhKG5ldyBMYXlhLlZlY3RvcjMoMCwgMCwgdGhpcy5kaXN0YW5jZSksIHRoaXMucm90YXRpb24pLCB0aGlzLmNhbVZpZXdUYXJnZXRQb3MpO1xyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYVBvcyA9IHRoaXMucG9zaXRpb247XHJcbiAgICAgICAgdGhpcy5jYW1lcmFSb3QgPSB0aGlzLnJvdGF0aW9uO1xyXG4gICAgICAgIHRoaXMub2xkVG91Y2gwID0gdGhpcy5uZXdUb3VjaDA7XHJcblxyXG4gICAgICAgIC8vY29uc29sZS5sb2coXCJlbHVlcjpcIiArIHRoaXMuY2FtZXJhTm9kZS50cmFuc2Zvcm0ucm90YXRpb25FdWxlci54ICsgXCIgXCIgKyB0aGlzLmNhbWVyYU5vZGUudHJhbnNmb3JtLnJvdGF0aW9uRXVsZXIueSArIFwiIFwiICsgdGhpcy5jYW1lcmFOb2RlLnRyYW5zZm9ybS5yb3RhdGlvbkV1bGVyLnopO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKuWkhOeQhuWPjOaMh+inpuaOpyAqL1xyXG4gICAgb25Ub3VjaFR3byhldmVudDogTGF5YS5FdmVudCk6IHZvaWQge1xyXG4gICAgICAgIHZhciBhcnI6IExheWEuRXZlbnRbXSA9IGV2ZW50LnRvdWNoZXM7XHJcblxyXG4gICAgICAgIGlmIChhcnIgPT0gdW5kZWZpbmVkICYmIGFyci5sZW5ndGggIT0gMikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLm5ld1RvdWNoMCA9IG5ldyBMYXlhLlZlY3RvcjMoYXJyWzBdLnN0YWdlWCwgYXJyWzBdLnN0YWdlWSwgMCk7XHJcbiAgICAgICAgdGhpcy5uZXdUb3VjaDEgPSBuZXcgTGF5YS5WZWN0b3IzKGFyclsxXS5zdGFnZVgsIGFyclsxXS5zdGFnZVksIDApO1xyXG5cclxuICAgICAgICB2YXIgb2xkRGlzdGFuY2UgPSBMYXlhLlZlY3RvcjMuZGlzdGFuY2UodGhpcy5vbGRUb3VjaDAsIHRoaXMub2xkVG91Y2gxKTtcclxuICAgICAgICB2YXIgbmV3RGlzdGFuY2UgPSBMYXlhLlZlY3RvcjMuZGlzdGFuY2UodGhpcy5uZXdUb3VjaDAsIHRoaXMubmV3VG91Y2gxKTtcclxuICAgICAgICB2YXIgb2Zmc2V0ID0gbmV3RGlzdGFuY2UgLSBvbGREaXN0YW5jZTtcclxuXHJcbiAgICAgICAgdGhpcy5Ib3JWZXJNb3ZlQnlUb3VjaChhcnIpO1xyXG4gICAgICAgIHRoaXMucHJvY2Vzc1RvRmFyQW5kTmVhcihvZmZzZXQgLyAzMCk7XHJcblxyXG4gICAgICAgIHRoaXMub2xkVG91Y2gwID0gdGhpcy5uZXdUb3VjaDA7XHJcbiAgICAgICAgdGhpcy5vbGRUb3VjaDEgPSB0aGlzLm5ld1RvdWNoMTtcclxuICAgIH1cclxuXHJcbiAgICAvKiDlpITnkIbkuIrkuIvlt6blj7PlubPnp7vnp7vliqjop4bop5LvvIjop6blsY/vvIkqL1xyXG4gICAgSG9yVmVyTW92ZUJ5VG91Y2goYXJyOiBMYXlhLkV2ZW50W10pIHtcclxuICAgICAgICB2YXIgcG9pbnQxID0gTWF0aGYuVmVjX011bChNYXRoZi5WZWNfQWRkKHRoaXMubmV3VG91Y2gwLCB0aGlzLm5ld1RvdWNoMSksIDAuNSk7XHJcbiAgICAgICAgdmFyIHBvaW50MiA9IE1hdGhmLlZlY19NdWwoTWF0aGYuVmVjX0FkZCh0aGlzLm9sZFRvdWNoMCwgdGhpcy5vbGRUb3VjaDEpLCAwLjUpO1xyXG4gICAgICAgIHZhciBkaXJWZWMyID0gTWF0aGYuVmVjX011bChNYXRoZi5WZWNfU3ViKHBvaW50MSwgcG9pbnQyKSwgMC4wMDI1KTtcclxuXHJcbiAgICAgICAgaWYgKExheWEuVmVjdG9yMy5zY2FsYXJMZW5ndGgoZGlyVmVjMikgPiAwLjAwNSkge1xyXG4gICAgICAgICAgICB2YXIgdGVtcCA9IE1hdGhmLlZlY0RvdFF1YShuZXcgTGF5YS5WZWN0b3IzKC1kaXJWZWMyLngsIGRpclZlYzIueSwgMCksIHRoaXMuY2FtZXJhUm90KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhUG9zID0gTWF0aGYuVmVjX0FkZCh0aGlzLmNhbWVyYVBvcywgdGVtcCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2FtVmlld1RhcmdldFBvcyA9IE1hdGhmLlZlY19BZGQodGhpcy5jYW1WaWV3VGFyZ2V0UG9zLCB0ZW1wKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaXNOZWVkQWRqdXN0ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGhhbmRsZU1vdXNlVXAoZXZlbnQ6IExheWEuRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhldmVudC50eXBlKTtcclxuICAgICAgICBMYXlhLnN0YWdlLm9mZihMYXlhLkV2ZW50Lk1PVVNFX01PVkUsIHRoaXMsIHRoaXMuaGFuZGxlTW91c2VNb3ZlKTtcclxuICAgICAgICBMYXlhLnN0YWdlLm9mZihMYXlhLkV2ZW50Lk1PVVNFX09VVCwgdGhpcywgdGhpcy5oYW5kbGVNb3VzZVVwKTtcclxuICAgICAgICB0aGlzLkFkanVzdFZhbHVlKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGhhbmRsZU1vdXNlV2hlZWwoZXZlbnQ6IExheWEuRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICB2YXIgc2NhbGVGYWN0b3IgPSBldmVudC5kZWx0YTtcclxuICAgICAgICB0aGlzLnByb2Nlc3NUb0ZhckFuZE5lYXIoc2NhbGVGYWN0b3IpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcm9jZXNzVG9GYXJBbmROZWFyKHNjYWxlRmFjdG9yOiBudW1iZXIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInNjYWxlRmFjdG9yOlwiICsgc2NhbGVGYWN0b3IpO1xyXG5cclxuICAgICAgICBpZiAoTWF0aC5hYnMoc2NhbGVGYWN0b3IpID4gMC4wMikge1xyXG4gICAgICAgICAgICB2YXIgbmV4UG9zID0gTWF0aGYuVmVjX0FkZCh0aGlzLmNhbWVyYVBvcywgTWF0aGYuVmVjX011bChNYXRoZi5WZWNfTm9ybWFsaXplKE1hdGhmLlZlY19TdWIodGhpcy5jYW1lcmFQb3MsIHRoaXMuY2FtVmlld1RhcmdldFBvcykpLCBzY2FsZUZhY3RvciAqIHRoaXMuR19mWm9vbVNwZWVkICogMC4wMSkpO1xyXG4gICAgICAgICAgICB2YXIgbmVhclBvcyA9IE1hdGhmLlZlY19TdWIodGhpcy5jYW1WaWV3VGFyZ2V0UG9zLCBNYXRoZi5WZWNfTXVsKE1hdGhmLlZlY19Ob3JtYWxpemUoTWF0aGYuVmVjX1N1Yih0aGlzLmNhbVZpZXdUYXJnZXRQb3MsIHRoaXMuY2FtZXJhUG9zKSksIHRoaXMubWluRGlzdGFuY2UpKTtcclxuICAgICAgICAgICAgdmFyIGZhclBvcyA9IE1hdGhmLlZlY19TdWIodGhpcy5jYW1WaWV3VGFyZ2V0UG9zLCBNYXRoZi5WZWNfTXVsKE1hdGhmLlZlY19Ob3JtYWxpemUoTWF0aGYuVmVjX1N1Yih0aGlzLmNhbVZpZXdUYXJnZXRQb3MsIHRoaXMuY2FtZXJhUG9zKSksIHRoaXMubWF4RGlzdGFuY2UpKTtcclxuXHJcbiAgICAgICAgICAgIG5leFBvcy54ID0gbmVhclBvcy54IDwgZmFyUG9zLnggPyBNYXRoZi5DbGFtcChuZXhQb3MueCwgbmVhclBvcy54LCBmYXJQb3MueCkgOiBNYXRoZi5DbGFtcChuZXhQb3MueCwgZmFyUG9zLngsIG5lYXJQb3MueCk7XHJcbiAgICAgICAgICAgIG5leFBvcy55ID0gbmVhclBvcy55IDwgZmFyUG9zLnkgPyBNYXRoZi5DbGFtcChuZXhQb3MueSwgbmVhclBvcy55LCBmYXJQb3MueSkgOiBNYXRoZi5DbGFtcChuZXhQb3MueSwgZmFyUG9zLnksIG5lYXJQb3MueSk7XHJcbiAgICAgICAgICAgIG5leFBvcy56ID0gbmVhclBvcy56IDwgZmFyUG9zLnogPyBNYXRoZi5DbGFtcChuZXhQb3MueiwgbmVhclBvcy56LCBmYXJQb3MueikgOiBNYXRoZi5DbGFtcChuZXhQb3MueiwgZmFyUG9zLnosIG5lYXJQb3Mueik7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYVBvcyA9IG5leFBvcztcclxuICAgICAgICAgICAgdGhpcy5pc05lZWRBZGp1c3QgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICBcclxufSIsImltcG9ydCBDYW1lcmFTcGluIGZyb20gXCIuL0NhbWVyYVNwaW5cIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVNZ3IgZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgaW5zdGFuY2U6IEdhbWVNZ3I7XHJcblxyXG4gICAgcHVibGljIHNjZW5lM0Q6IExheWEuU2NlbmUzRDtcclxuXHJcbiAgICBvbkF3YWtlKCk6IHZvaWQge1xyXG4gICAgICAgIEdhbWVNZ3IuaW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgfVxyXG5cclxuICAgIG9uRGlzYWJsZSgpOiB2b2lkIHtcclxuICAgIH1cclxuICAgIG9uU3RhcnQoKTogdm9pZCB7XHJcbiAgICAgICAgTGF5YS5TY2VuZTNELmxvYWQoXCJyZXMvTGF5YVNjZW5lX3NjZW5lL0NvbnZlbnRpb25hbC9zY2VuZS5sc1wiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25Mb2FkU2NlbmVDbXApKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uTG9hZFNjZW5lQ21wKHNjZW5lczNEOiBMYXlhLlNjZW5lM0QpOiB2b2lkIHtcclxuICAgICAgICBMYXlhLnN0YWdlLmFkZENoaWxkKHNjZW5lczNEKTtcclxuICAgICAgICB0aGlzLnNjZW5lM0QgPSBzY2VuZXMzRDtcclxuICAgICAgICBzY2VuZXMzRC56T3JkZXIgPSAtMTtcclxuXHJcbiAgICAgICAgdmFyIGNhbWVyYSA9IHNjZW5lczNELmdldENoaWxkQnlOYW1lKFwiTWFpbiBDYW1lcmFcIik7XHJcbiAgICAgICAgY2FtZXJhLmFkZENvbXBvbmVudChDYW1lcmFTcGluKTtcclxuICAgICAgICAvLyB0aGlzLmJhbGxfcHJlZmFiID0gTGF5YS5TcHJpdGUzRC5pbnN0YW50aWF0ZShiYWxsIGFzIExheWEuU3ByaXRlM0QpO1xyXG4gICAgICAgIC8vIHRoaXMucGFydCA9IHNjZW5lczNELmdldENoaWxkQnlOYW1lKFwicGFydGljbGVcIikgYXMgTGF5YS5TaHVyaUtlblBhcnRpY2xlM0Q7XHJcbiAgICB9XHJcbn0iLCIvKipcclxuICog5bCB6KOF55qETWF0aOeahOW3peWFt+exu1xyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWF0aGYge1xyXG4gICAgcHVibGljIHN0YXRpYyBWRUNfVVAgPSBuZXcgTGF5YS5WZWN0b3IzKDAsIDEsIDApO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgVmVjX0FkZCh2ZWMxLCB2ZWMyKTogTGF5YS5WZWN0b3IzIHtcclxuICAgICAgICB2YXIgdmVjMyA9IG5ldyBMYXlhLlZlY3RvcjMoKTtcclxuICAgICAgICBMYXlhLlZlY3RvcjMuYWRkKHZlYzEsIHZlYzIsIHZlYzMpXHJcbiAgICAgICAgcmV0dXJuIHZlYzM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBWZWNfU3ViKHZlYzEsIHZlYzIpOiBMYXlhLlZlY3RvcjMge1xyXG4gICAgICAgIHZhciB2ZWMzID0gbmV3IExheWEuVmVjdG9yMygpO1xyXG4gICAgICAgIExheWEuVmVjdG9yMy5zdWJ0cmFjdCh2ZWMxLCB2ZWMyLCB2ZWMzKVxyXG4gICAgICAgIHJldHVybiB2ZWMzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgVmVjX011bCh2ZWMxLCB2YWx1ZSk6IExheWEuVmVjdG9yMyB7XHJcbiAgICAgICAgdmFyIHZlYzMgPSBuZXcgTGF5YS5WZWN0b3IzKCk7XHJcbiAgICAgICAgTGF5YS5WZWN0b3IzLm11bHRpcGx5KHZlYzEsIG5ldyBMYXlhLlZlY3RvcjModmFsdWUsIHZhbHVlLCB2YWx1ZSksIHZlYzMpXHJcbiAgICAgICAgcmV0dXJuIHZlYzM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBWZWNfTm9ybWFsaXplKHZlYzEpOiBMYXlhLlZlY3RvcjMge1xyXG4gICAgICAgIHZhciB2ZWMzID0gbmV3IExheWEuVmVjdG9yMygpO1xyXG4gICAgICAgIExheWEuVmVjdG9yMy5ub3JtYWxpemUodmVjMSwgdmVjMyk7XHJcbiAgICAgICAgcmV0dXJuIHZlYzM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBWZWNUb1F1YSh2ZWMxKSB7XHJcbiAgICAgICAgdmFyIHF1YSA9IG5ldyBMYXlhLlF1YXRlcm5pb24oKTtcclxuICAgICAgICAvKiB5YXcgeeeahOW8p+W6puWAvCAgcGl0Y2ggeOeahOW8p+W6puWAvCAgcm9sbCB655qE5byn5bqm5YC8XHJcbiAgICAgICAgICog6KeS5bqmQTHovazmjaLlvKfluqZBMjpBMj1BMSpQSS8xODBcclxuICAgICAgICAgKiDlvKfluqZBMui9rOaNouinkuW6pkExOkExPUEyKjE4MC9QSVxyXG4gICAgICAgICovXHJcbiAgICAgICAgTGF5YS5RdWF0ZXJuaW9uLmNyZWF0ZUZyb21ZYXdQaXRjaFJvbGwodmVjMS55ICogTWF0aC5QSSAvIDE4MCwgdmVjMS54ICogTWF0aC5QSSAvIDE4MCwgdmVjMS56ICogTWF0aC5QSSAvIDE4MCwgcXVhKTtcclxuICAgICAgICByZXR1cm4gcXVhO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgVmVjRG90UXVhKHZlYzEsIHF1YSkge1xyXG4gICAgICAgIHZhciB2ZWMzID0gbmV3IExheWEuVmVjdG9yMygpO1xyXG4gICAgICAgIExheWEuVmVjdG9yMy50cmFuc2Zvcm1RdWF0KHZlYzEsIHF1YSwgdmVjMyk7XHJcbiAgICAgICAgcmV0dXJuIHZlYzM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBDbGFtcCh0YXIsIG1pbiwgbWF4KTogbnVtYmVyIHtcclxuICAgICAgICBpZiAodGFyIDwgbWluKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtaW47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRhciA+IG1heCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbWF4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRhcjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBDbGFtcEFuZ2xlKGFuZ2xlOiBudW1iZXIsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgaWYgKGFuZ2xlIDwgLTM2MClcclxuICAgICAgICAgICAgYW5nbGUgPSBhbmdsZSArIDM2MDtcclxuXHJcbiAgICAgICAgaWYgKGFuZ2xlID4gMzYwKVxyXG4gICAgICAgICAgICBhbmdsZSA9IGFuZ2xlIC0gMzYwO1xyXG5cclxuICAgICAgICByZXR1cm4gTWF0aGYuQ2xhbXAoYW5nbGUsIG1pbiwgbWF4KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIFF1YVRvVmVjKHF1YSk6IExheWEuVmVjdG9yMyB7XHJcbiAgICAgICAgdmFyIHZlYyA9IG5ldyBMYXlhLlZlY3RvcjMoKTtcclxuICAgICAgICBxdWEuZ2V0WWF3UGl0Y2hSb2xsKHZlYyk7XHJcbiAgICAgICAgdmVjID0gbmV3IExheWEuVmVjdG9yMyh2ZWMueSAqIDE4MCAvIE1hdGguUEksIHZlYy54ICogMTgwIC8gTWF0aC5QSSwgdmVjLnogKiAxODAgLyBNYXRoLlBJKTtcclxuICAgICAgICByZXR1cm4gdmVjO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgR2V0VG9UYXJnZXRSb3RhdGlvbih0YXJnZXRWZWMpOiBMYXlhLlF1YXRlcm5pb24ge1xyXG4gICAgICAgIHZhciBxdWEgPSBuZXcgTGF5YS5RdWF0ZXJuaW9uKCk7XHJcbiAgICAgICAgTGF5YS5RdWF0ZXJuaW9uLnJvdGF0aW9uTG9va0F0KHRhcmdldFZlYywgTWF0aGYuVkVDX1VQLCBxdWEpO1xyXG4gICAgICAgIHJldHVybiBxdWE7XHJcbiAgICB9XHJcbn0iXX0=
